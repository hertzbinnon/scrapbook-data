<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="zh-CN">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

	<meta name="Content-Type" content="text/html;charset=utf-8">
    <meta name="Referrer" content="unsafe-url">
	<meta content="True" name="HandheldFriendly">
    <meta name="theme-color" content="#333344">
	
    <meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<meta name="detectify-verification" content="d0264f228155c7a1f72c3d91c17ce8fb">
<meta name="p:domain_verify" content="b87e3b55b409494aab88c1610b05a5f0">
<meta name="alexaVerifyID" content="OFc8dmwZo7ttU4UCnDh1rKDtLlY">
<meta name="baidu-site-verification" content="D00WizvYyr">
<meta name="msvalidate.01" content="D9B08FEA08E3DA402BF07ABAB61D77DE">
<meta property="wb:webmaster" content="f2f4cb229bda06a4">
<meta name="google-site-verification" content="LM_cJR94XJIqcYJeOCscGVMWdaRUvmyz6cVOqkFplaU">
    
    <title>Cgroup - ä» CPU èµ„æºéš”ç¦»è¯´èµ·(ä¸€) - V2EX</title>
    <link rel="dns-prefetch" href="https://static.v2ex.com/">
    <link rel="dns-prefetch" href="https://cdn.v2ex.com/">
    <link rel="dns-prefetch" href="https://cdn.v2ex.co/">
    <link rel="dns-prefetch" href="https://i.v2ex.co/">
    <link rel="dns-prefetch" href="https://v2ex.assets.uxengine.net/">
    
	   
    
    
    
    
    
    
    <link rel="icon" sizes="192x192" href="v2ex_192.png">
    <link rel="shortcut icon" href="icon_rayps_64.png" type="image/png">
    
	
	
	
    
    
    
    
    
    
    
    
    
    
    <meta name="description" content="Linux - @jerry017cn - # Cgroup - ä» CPU èµ„æºéš”ç¦»è¯´èµ·![Zorro ï¼½ icon]( http://tp4.sinaimg.cn/1718814015/180/5739428251/1)">
    
    
    <link rel="canonical" href="https://www.v2ex.com/t/246791">
    
    
    
    <meta property="og:locale" content="zh_CN">
<meta property="og:type" content="article">
<meta property="og:title" content="Cgroup - ä» CPU èµ„æºéš”ç¦»è¯´èµ·(ä¸€) - V2EX">
<meta property="og:description" content="Linux - @jerry017cn - # Cgroup - ä» CPU èµ„æºéš”ç¦»è¯´èµ·![Zorro ï¼½ icon]( http://tp4.sinaimg.cn/1718814015/180/5739428251/1)">
<meta property="og:url" content="https://www.v2ex.com/t/246791">
<meta property="og:site_name" content="V2EX">

<meta property="article:tag" content="linux">
<meta property="article:section" content="Linux">
<meta property="article:published_time" content="2015-12-28T14:35:32Z">

<meta name="twitter:card" content="summary">
<meta name="twitter:description" content="Linux - @jerry017cn - # Cgroup - ä» CPU èµ„æºéš”ç¦»è¯´èµ·![Zorro ï¼½ icon]( http://tp4.sinaimg.cn/1718814015/180/5739428251/1)">
<meta name="twitter:title" content="Cgroup - ä» CPU èµ„æºéš”ç¦»è¯´èµ·(ä¸€) - V2EX">
<meta name="twitter:image" content="https://cdn.v2ex.com/avatar/277d/4b34/136983_large.png?m=1441503103">
<meta name="twitter:site" content="@V2EX">
<meta name="twitter:creator" content="@V2EX">
    <link rel="top" title="å›åˆ°é¡¶éƒ¨" href="https://www.v2ex.com/t/246791#">
    
    
    <link rel="amphtml" href="https://www.v2ex.com/amp/t/246791">
	
    


<link media="all" href="index.css" type="text/css" rel="stylesheet">
</head>
<body>
    <div id="Top">
        <div class="content">
            <div style="padding-top: 6px;">
            <table width="100%" cellspacing="0" cellpadding="0" border="0">
                <tbody><tr>
                    <td width="110" align="left"><a href="https://www.v2ex.com/" name="top" title="way to explore"><div id="Logo"></div></a></td>
                    <td width="auto" align="left">
                        <div id="Search"><form action="https://www.google.com/" onsubmit="return dispatch()" target="_blank"><div id="qbar"><input maxlength="40" name="q" id="q" value="" onfocus="$('#qbar').addClass('qbar_focus')" onblur="$('#qbar').removeClass('qbar_focus')" type="text"></div></form></div>
                    </td>
                    <td style="padding-top: 2px;" width="570" align="right"><a href="https://www.v2ex.com/" class="top">é¦–é¡µ</a>&nbsp;&nbsp;&nbsp;<a href="https://www.v2ex.com/signup" class="top">æ³¨å†Œ</a>&nbsp;&nbsp;&nbsp;<a href="https://www.v2ex.com/signin" class="top">ç™»å½•</a></td>
                </tr>
            </tbody></table>
            </div>
        </div>
    </div>
    <div id="Wrapper">
        <div class="content">
            
            <div id="Leftbar"></div>
            <div id="Rightbar">
                <div class="sep20"></div>
                
                    
                    <div class="box">
                        <div class="cell">
                            <strong>V2EX = way to explore</strong>
                            <div class="sep5"></div>
                            <span class="fade">V2EX æ˜¯ä¸€ä¸ªå…³äºåˆ†äº«å’Œæ¢ç´¢çš„åœ°æ–¹</span>
                        </div>
                        <div class="inner">
                            <div class="sep5"></div>
                            <div align="center"><a href="https://www.v2ex.com/signup" class="super normal button">ç°åœ¨æ³¨å†Œ</a>
                            <div class="sep5"></div>
                            <div class="sep10"></div>
                            å·²æ³¨å†Œç”¨æˆ·è¯· &nbsp;<a href="https://www.v2ex.com/signin">ç™»å½•</a></div>
                        </div>
                    </div>
                    
                    


    
    <div class="sep20"></div>
    <div class="box">
        <div class="inner">
            <div class="sidebar_units">
  <a href="http://www.oray.com/jump/45599" target="_top"><img src="huashengke_20181219.gif" alt="èŠ±ç”Ÿå£³" width="100%" border="0"></a>
  <div class="sep10"></div>
  <a href="http://csvc.qiniu.com/?hmsr=v2exbanner&amp;hmpl=csvc&amp;hmcu=csvc_v2exbanner&amp;hmkw=&amp;hmci=" target="_top"><img src="qiniu_20181213.png" alt="ä¸ƒç‰›äº‘" width="100%" border="0"></a>
  <div class="sep10"></div>
  <a href="https://datapacket.com/?utm_source=v2ex&amp;utm_medium=cpc&amp;utm_campaign=linux&amp;utm_content=static1" target="_top"><img src="datapacket_20181010.png" alt="DataPacket" width="100%" border="0"></a>
  <div class="sep10"></div>
  <a href="https://www.cdn77.com/cn?utm_source=v2ex&amp;utm_medium=cpc&amp;utm_campaign=linux&amp;utm_content=static2" target="_top"><img src="cdn77_20180806.jpg" alt="CDN77" width="100%" border="0"></a>
  <div class="sep10"></div>
</div>
<strong class="green">Distributions</strong>
<div class="sep5"></div>
<span class="chevron">â€º</span> <a href="http://www.ubuntu.com/" target="_top">Ubuntu</a>
<div class="sep5"></div>
<span class="chevron">â€º</span> <a href="http://fedoraproject.org/" target="_top">Fedora</a>
<div class="sep5"></div>
<span class="chevron">â€º</span> <a href="http://www.centos.org/" target="_top">CentOS</a>
<div class="sep10"></div>
<strong class="fade">ä¸­æ–‡èµ„æºç«™</strong>
<div class="sep5"></div>
<span class="chevron">â€º</span> <a href="http://mirrors.163.com/" target="_top">ç½‘æ˜“å¼€æºé•œåƒç«™</a>
            
        </div>
        <div class="sidebar_compliance"><a href="https://www.v2ex.com/advertise" target="_top">å¹¿å‘Š</a></div>
    </div>
    


                    
                    <div class="sep20"></div>
                    <div class="box">
    <div class="inner" align="center">
        <a href="https://www.lagou.com/lp/html/common.html?utm_source=m_bd_ff_gghz_jixiejing" target="_top"><img src="lagou_20181217.jpg" alt="æ‹‰å‹¾" width="250" height="250" border="0"></a>
    </div>
</div>
<!-- Update: 20181201 -->
                    <div class="sep20"></div>
                    
                    
                    
                
            </div>
            <div id="Main">
                <div class="sep20"></div>
                
<div class="box" style="border-bottom: 0px none;">
    
    <div class="header"><div class="fr"><a href="https://www.v2ex.com/member/jerry017cn"><img src="136983_large.png" class="avatar" border="0" align="default"></a></div>
    <a href="https://www.v2ex.com/">V2EX</a> <span class="chevron">&nbsp;â€º&nbsp;</span> <a href="https://www.v2ex.com/go/linux">Linux</a>
    <div class="sep10"></div>
    <h1>Cgroup - ä» CPU èµ„æºéš”ç¦»è¯´èµ·(ä¸€)</h1>
    <div id="topic_246791_votes" class="votes">
<a href="javascript:" onclick="upVoteTopic(246791);" class="vote"><li class="fa fa-chevron-up"></li> &nbsp;8</a> &nbsp;<a href="javascript:" onclick="downVoteTopic(246791);" class="vote"><li class="fa fa-chevron-down"></li></a></div> &nbsp; <small class="gray"><a href="https://www.v2ex.com/member/jerry017cn">jerry017cn</a> Â· 2015-12-28 22:35:32 +08:00 Â· 7573 æ¬¡ç‚¹å‡»</small>
    </div>
    
    
    <div class="outdated">è¿™æ˜¯ä¸€ä¸ªåˆ›å»ºäº 1088 å¤©å‰çš„ä¸»é¢˜ï¼Œå…¶ä¸­çš„ä¿¡æ¯å¯èƒ½å·²ç»æœ‰æ‰€å‘å±•æˆ–æ˜¯å‘ç”Ÿæ”¹å˜ã€‚</div>
    
    
    <div class="cell">
        
        <div class="topic_content"><div class="markdown_body"><h1>Cgroup - ä» CPU èµ„æºéš”ç¦»è¯´èµ·</h1>

<p><img src="1" alt="Zorro ï¼½ icon"></p>

<p>Hi ï¼Œæˆ‘æ˜¯ Zorro ã€‚è¿™æ˜¯æˆ‘çš„<a target="_top" rel="nofollow" href="http://weibo.com/orroz">å¾®åšåœ°å€</a>ï¼Œæˆ‘ä¼šä¸å®šæœŸåœ¨è¿™é‡Œæ›´æ–°æ–‡ç« ï¼Œå¦‚æœä½ æœ‰å…´è¶£ï¼Œå¯ä»¥æ¥å…³æ³¨æˆ‘å‘¦ã€‚</p>

<p>æœ¬æ–‡æœ‰é…å¥—<a target="_top" rel="nofollow" href="http://www.youku.com/playlist_show/id_26435064_ascending_0.html">è§†é¢‘æ¼”ç¤º</a>ï¼Œä¸€èµ·æœç”¨æ•ˆæœæ›´ä½³ã€‚</p>

<p>å¦å¤–ï¼Œæˆ‘çš„å…¶ä»–è”ç³»æ–¹å¼ï¼š</p>

<p><strong>Email:</strong> <a target="_top" rel="nofollow" href="mailto:mini.jerry@gmail.com">mini.jerry@gmail.com</a></p>

<p><strong>QQ:</strong> 30007147</p>

<p>ä»Šå¤©æˆ‘ä»¬æ¥è°ˆè°ˆï¼š</p>

<h2>ä»€ä¹ˆæ˜¯ Cgroup ï¼Ÿ</h2>

<blockquote>
<p>cgroups ï¼Œå…¶åç§°æºè‡ªæ§åˆ¶ç»„ç¾¤ï¼ˆ control groups ï¼‰çš„ç®€å†™ï¼Œæ˜¯ Linux å†…æ ¸çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œç”¨æ¥é™åˆ¶ï¼Œæ§åˆ¶ä¸åˆ†ç¦»ä¸€ä¸ªè¿›ç¨‹ç»„ç¾¤çš„èµ„æºï¼ˆå¦‚ CPU ã€å†…å­˜ã€ç£ç›˜è¾“å…¥è¾“å‡ºç­‰ï¼‰ã€‚</p>

<p>--å¼•è‡ª<a target="_top" rel="nofollow" href="https://zh.wikipedia.org/wiki/Cgroups">ç»´åŸºç™¾ç§‘:cgroup</a>  </p>
</blockquote>

<p>å¼•ç”¨å®˜æ–¹è¯´æ³•æ€»æ˜¯é‚£ä¹ˆå†°å†·çš„è®©äººä¸å¥½ç†è§£ï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯ç¨å¾®è§£é‡Šä¸€ä¸‹ï¼š</p>

<p>ä¸€ä¸ªæ­£åœ¨è¿è¡Œç€æœåŠ¡çš„è®¡ç®—æœºç³»ç»Ÿï¼Œè·Ÿæˆ‘ä»¬é«˜ä¸­ä¸Šè¯¾çš„æƒ…æ™¯è¿˜æ˜¯å¾ˆç›¸ä¼¼çš„ã€‚å¦‚æœæŠŠç³»ç»Ÿä¸­çš„æ¯ä¸ªè¿›ç¨‹ç†è§£ä¸ºä¸€ä¸ªåŒå­¦çš„è¯ï¼Œé‚£ä¹ˆç­ä¸»ä»»å°±æ˜¯æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒï¼ˆ kernel ï¼‰ï¼Œè´Ÿè´£ç®¡ç†ç­é‡Œçš„åŒå­¦ã€‚è€Œ cgroup ï¼Œå°±æ˜¯ç­ä¸»ä»»æ§åˆ¶å­¦ç”Ÿè¡Œä¸ºçš„ä¸€ç§æ‰‹æ®µï¼Œæ‰€ä»¥ï¼Œå®ƒèµ·åå« control groups ã€‚</p>

<p>æ—¢ç„¶æ˜¯ä¸€ç§æ§åˆ¶æ‰‹æ®µï¼Œé‚£ä¹ˆ cgroup èƒ½æ§åˆ¶ä»€ä¹ˆå‘¢ï¼Ÿå½“ç„¶æ˜¯èµ„æºå•¦ï¼å¯¹äºè®¡ç®—æœºæ¥è¯´ï¼Œèµ„æºå¤§æ¦‚å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>

<ul>
<li>è®¡ç®—èµ„æº</li>
<li>å†…å­˜èµ„æº</li>
<li>io èµ„æº</li>
<li>ç½‘ç»œèµ„æº</li>
</ul>

<p>è¿™å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„å†…æ ¸å››å¤§å­ç³»ç»Ÿã€‚å½“æˆ‘ä»¬å­¦ä¹ å†…æ ¸çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹ŸåŸºæœ¬ä¸Šæ˜¯å›´ç»•è¿™å››å¤§å­ç³»ç»Ÿè¿›è¡Œç ”ç©¶ã€‚<br>
æˆ‘ä»¬ä»Šå¤©è¦è®¨è®ºçš„ï¼Œä¸»è¦æ˜¯ cgroup æ˜¯å¦‚ä½•å¯¹ç³»ç»Ÿä¸­çš„ CPU èµ„æºè¿›è¡Œéš”ç¦»å’Œåˆ†é…çš„ã€‚å…¶ä»–èµ„æºçš„æ§åˆ¶ï¼Œæˆ‘ä»¬ä»¥åæœ‰ç©ºå†è¯´å–½ã€‚</p>

<h2>å¦‚ä½•çœ‹å¾… CPU èµ„æºï¼Ÿ</h2>

<p><em>ç”±äºè¿›ç¨‹å’Œçº¿ç¨‹åœ¨ Linux çš„ CPU è°ƒåº¦çœ‹æ¥æ²¡å•¥åŒºåˆ«ï¼Œæ‰€ä»¥æœ¬æ–‡åç»­éƒ½ä¼šç”¨</em><em>è¿›ç¨‹</em><em>è¿™ä¸ªåè¯æ¥ä»£è¡¨å†…æ ¸çš„è°ƒåº¦å¯¹è±¡ï¼Œä¸€èˆ¬æ¥è®²ä¹ŸåŒ…æ‹¬çº¿ç¨‹</em></p>

<p>å¦‚æœè¦åˆ†é…èµ„æºï¼Œæˆ‘ä»¬å¿…é¡»å…ˆææ¸…æ¥šè¿™ä¸ªèµ„æºæ˜¯å¦‚ä½•å­˜åœ¨çš„ï¼Œæˆ–è€…è¯´æ˜¯å¦‚ä½•ç»„ç»‡çš„ã€‚æˆ‘æƒ³ CPU å¤§å®¶éƒ½ä¸é™Œç”Ÿï¼Œæˆ‘ä»¬éƒ½åœ¨ç³»ç»Ÿä¸­ç”¨è¿‡å„ç§å·¥å…·æŸ¥çœ‹è¿‡ CPU çš„ä½¿ç”¨ç‡ï¼Œæ¯”å¦‚è¯´ä»¥ä¸‹è¿™ä¸ªå‘½ä»¤å’Œå®ƒçš„è¾“å‡ºï¼š</p>
<div class="highlight"><pre>[zorro@zorrozou-pc0 ~]$ mpstat -P ALL 1 1
Linux 4.2.5-1-ARCH (zorrozou-pc0)   2015 å¹´ 12 æœˆ 22 æ—¥ _x86_64_     (4 CPU)mt

16 æ—¶ 01 åˆ† 08 ç§’  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
16 æ—¶ 01 åˆ† 09 ç§’  all    0.25    0.00    0.25    0.00    0.00    0.00    0.00    0.00    0.00   99.50
16 æ—¶ 01 åˆ† 09 ç§’    0    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
16 æ—¶ 01 åˆ† 09 ç§’    1    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
16 æ—¶ 01 åˆ† 09 ç§’    2    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
16 æ—¶ 01 åˆ† 09 ç§’    3    0.00    0.00    1.00    0.00    0.00    0.00    0.00    0.00    0.00   99.00

Average:     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
Average:     all    0.25    0.00    0.25    0.00    0.00    0.00    0.00    0.00    0.00   99.50
Average:       0    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
Average:       1    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
Average:       2    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
Average:       3    0.00    0.00    1.00    0.00    0.00    0.00    0.00    0.00    0.00   99.00
</pre></div>

<p>æ˜¾ç¤ºçš„å†…å®¹å…·ä½“ä»€ä¹ˆæ„æ€ï¼Œå¸Œæœ›å¤§å®¶éƒ½èƒ½äº†è§£ï¼Œæˆ‘å°±ä¸åœ¨è¿™ç»†è§£é‡Šäº†ã€‚æ ¹æ®æ˜¾ç¤ºå†…å®¹æˆ‘ä»¬çŸ¥é“ï¼Œè¿™ä¸ªè®¡ç®—æœºæœ‰ 4 ä¸ª cpu æ ¸å¿ƒï¼Œç›®å‰çš„ cpu åˆ©ç”¨ç‡å‡ ä¹æ˜¯ 0 ï¼Œå°±æ˜¯è¯´ç³»ç»Ÿæ•´ä½“æ¯”è¾ƒé—²ã€‚</p>

<p>ä»è¿™ä¸ªä¾‹å­å¤§æ¦‚å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å¯¹ cpu èµ„æºçš„è¯„ä¼°ä¸€èˆ¬æœ‰ä¸¤ä¸ªè§‚å¯Ÿè§’åº¦ï¼š</p>

<ul>
<li>æ ¸å¿ƒä¸ªæ•°</li>
<li>ç™¾åˆ†æ¯”</li>
</ul>

<p>ç›®å‰çš„è®¡ç®—æœºåŸºæœ¬éƒ½æ˜¯å¤šæ ¸ç”šè‡³å¤š cpu ç³»ç»Ÿï¼Œä¸€ä¸ªæœåŠ¡å™¨ä¸Šå­˜åœ¨å‡ ä¸ªåˆ°å‡ åä¸ª cpu æ ¸å¿ƒçš„æƒ…å†µéƒ½å¾ˆå¸¸è§ã€‚æ‰€ä»¥ï¼Œä»è¿™ä¸ªè§’åº¦çœ‹ï¼Œ cgroup åº”è¯¥æä¾›ä¸€ç§æ‰‹æ®µï¼Œå¯ä»¥ç»™è¿›ç¨‹ä»¬æŒ‡å®šå®ƒä»¬å¯ä»¥å ç”¨çš„ cpu æ ¸å¿ƒï¼Œä»¥æ­¤æ¥åšåˆ° cpu è®¡ç®—èµ„æºçš„éš”ç¦»ã€‚<br>
ç™¾åˆ†æ¯”è¿™ä¸ªæ¦‚å¿µæˆ‘ä»¬éœ€è¦å¤šè§£é‡Šä¸€ä¸‹ï¼šè¿™ä¸ªç™¾åˆ†æ¯”ç©¶ç«Ÿæ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿéš¾é“æ¯ä¸ª cpu æ ¸å¿ƒçš„è®¡ç®—èƒ½åŠ›å°±åƒä¸€ä¸ªå¸¦åˆ»åº¦è¡¨çš„æ°´æ¯ä¸€æ ·ï¼Ÿä¸€ä¸ªè¿›ç¨‹è¦å ç”¨å°±ä¼šå ç”¨åˆ°å®ƒçš„ä¸€å®šåˆ»åº¦ä¹ˆï¼Ÿ</p>

<p>å½“ç„¶ä¸æ˜¯å•¦ï¼è¿™ä¸ª cpu çš„ç™¾åˆ†æ¯”æ˜¯æŒ‰æ—¶é—´æ¯”ç‡è®¡ç®—çš„ã€‚åŸºæœ¬æ€è·¯æ˜¯ï¼šä¸€ä¸ª CPU ä¸€èˆ¬å°±åªæœ‰ä¸¤ç§çŠ¶æ€ï¼Œè¦ä¹ˆè¢«å ç”¨ï¼Œè¦ä¹ˆä¸è¢«å ç”¨ã€‚å½“æœ‰å¤šä¸ªè¿›ç¨‹è¦å ç”¨ cpu çš„æ—¶å€™ï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿåœ¨ä¸€ä¸ª cpu æ ¸å¿ƒä¸Šæ˜¯è¿›è¡Œåˆ†æ—¶å¤„ç†çš„ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬æŠŠä¸€ç§’é’Ÿåˆ†æˆ 1000 ä»½ï¼Œé‚£ä¹ˆæ¯ä¸€ä»½å°±æ˜¯ 1 æ¯«ç§’ï¼Œå‡è®¾ç°åœ¨æœ‰ 5 ä¸ªè¿›ç¨‹éƒ½è¦ç”¨ cpu ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è®©å®ƒä»¬ 5 ä¸ªè½®ç€ä½¿ç”¨ï¼Œæ¯”å¦‚ä¸€äººä¸€æ¯«ç§’ï¼Œé‚£ä¹ˆ 1 ç§’è¿‡åï¼Œæ¯ä¸ªè¿›ç¨‹åªå ç”¨äº†è¿™ä¸ª CPU çš„ 200ms ï¼Œä½¿ç”¨ç‡ä¸º 20%ã€‚æ•´ä½“ cpu ä½¿ç”¨æ¯”ç‡ä¸º 100%ã€‚<br>
åŒç†ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªè¿›ç¨‹å ç”¨ï¼Œè€Œä¸”å®ƒåªç”¨äº† 300ms ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸€ç§’çš„å°ºåº¦çœ‹æ¥ï¼Œ cpu çš„å ç”¨æ—¶é—´æ˜¯ 30 ï¼…ã€‚äºæ˜¯æ˜¾ç¤ºå‡ºæ¥çš„çŠ¶æ€å°±æ˜¯å ç”¨ 30%çš„ CPU æ—¶é—´ã€‚</p>

<p>è¿™å°±æ˜¯å†…æ ¸æ˜¯å¦‚ä½•çœ‹å¾…å’Œåˆ†é…è®¡ç®—èµ„æºçš„ã€‚å½“ç„¶å®é™…æƒ…å†µè¦æ¯”è¿™å¤æ‚çš„å¤šï¼Œä½†æ˜¯åŸºæœ¬æ€è·¯å°±æ˜¯è¿™æ ·ã€‚ Linux å†…æ ¸æ˜¯é€šè¿‡ CPU è°ƒåº¦å™¨ CFS ï¼ï¼å®Œå…¨å…¬å¹³è°ƒåº¦å™¨å¯¹ CPU çš„æ—¶é—´è¿›è¡Œè°ƒåº¦çš„ï¼Œç”±äºæœ¬æ–‡çš„ä¾§é‡ç‚¹æ˜¯ cgroup è€Œä¸æ˜¯ CFS ï¼Œå¯¹è¿™ä¸ªé¢˜ç›®æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥åˆ°<a target="_top" rel="nofollow" href="http://www.linuxjournal.com/magazine/completely-fair-scheduler?page=0,1">è¿™é‡Œ</a>è¿›ä¸€æ­¥å­¦ä¹ ã€‚ CFS æ˜¯å†…æ ¸å¯ä»¥å®ç°çœŸå¯¹ CPU èµ„æºéš”ç¦»çš„æ ¸å¿ƒæ‰‹æ®µï¼Œå› æ­¤ï¼Œç†è§£æ¸…æ¥š CFS å¯¹ç†è§£æ¸…æ¥š CPU èµ„æºéš”ç¦»ä¼šæœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚</p>

<h2>å¦‚ä½•éš”ç¦» CPU èµ„æºï¼Ÿ</h2>

<p>æ ¹æ® CPU èµ„æºçš„ç»„ç»‡å½¢å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç†è§£ cgroup æ˜¯å¦‚ä½•å¯¹ CPU èµ„æºè¿›è¡Œéš”ç¦»çš„äº†ã€‚</p>

<p>æ— éä¹Ÿæ˜¯ä¸¤ä¸ªæ€è·¯ï¼Œä¸€ä¸ªæ˜¯åˆ†é…æ ¸å¿ƒè¿›è¡Œéš”ç¦»ï¼Œå¦ä¸€ä¸ªæ˜¯åˆ†é… CPU ä½¿ç”¨æ—¶é—´è¿›è¡Œéš”ç¦»ã€‚</p>

<p>å†ä»‹ç»å¦‚ä½•åšéš”ç¦»ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬çš„å®éªŒç³»ç»Ÿç¯å¢ƒï¼šæ²¡æœ‰ç‰¹æ®Šæƒ…å†µï¼Œæˆ‘ä»¬çš„å®éªŒç¯å¢ƒéƒ½æ˜¯ä¸€å° 24 æ ¸å¿ƒã€ 128G å†…å­˜çš„æœåŠ¡å™¨ï¼Œä¸Šé¢å®‰è£…çš„ç³»ç»Ÿå¯ä»¥è®¤ä¸ºæ˜¯ Centos7.</p>

<h3>æ­å»ºæµ‹è¯•ç¯å¢ƒ</h3>

<p>æˆ‘ä»¬å°†ä½¿ç”¨ cgconfig æœåŠ¡å’Œ cgred æœåŠ¡å¯¹ cgroup è¿›è¡Œé…ç½®å’Œä½¿ç”¨ã€‚æˆ‘ä»¬å°†é…ç½®ä¸¤ä¸ª group ï¼Œä¸€ä¸ªå« zorro ï¼Œå¦ä¸€ä¸ªå« jerry ã€‚å®ƒä»¬åˆ†åˆ«ä¹Ÿæ˜¯ç³»ç»Ÿä¸Šçš„ä¸¤ä¸ªè´¦æˆ·ï¼Œå…¶ä¸­ zorro ç”¨æˆ·æ‰€è¿è¡Œçš„è¿›ç¨‹éƒ½é»˜è®¤åœ¨ zorro group ä¸­è¿›è¡Œé™åˆ¶ï¼Œ jerry ç”¨æˆ·æ‰€è¿è¡Œçš„è¿›ç¨‹éƒ½æ”¾åˆ° jerry group ä¸­è¿›è¡Œé™åˆ¶ã€‚é…ç½®æ–‡ä»¶å†…å®¹å’Œé…ç½®æ–¹æ³•å¦‚ä¸‹ï¼š</p>

<p><em>æœ¬æ–‡å¹¶ä¸å¯¹ä»¥ä¸‹é…ç½®æ–¹æ³•çš„å…·ä½“å«ä¹‰åšè§£é‡Šï¼Œå¤§å®¶åªè¦çŸ¥é“å¦‚æ­¤é…ç½®å¯ä»¥è¾¾åˆ°ç›¸å…³è¯•éªŒç¯å¢ƒè¦æ±‚å³å¯ã€‚å¦‚æœå¤§å®¶å¯¹é…ç½®çš„ç»†èŠ‚æ„Ÿå…´è¶£ï¼Œå¯ä»¥è‡ªè¡ŒæŸ¥æ‰¾ç›¸å…³èµ„æ–™è¿›è¡Œå­¦ä¹ ã€‚</em></p>

<p>é¦–å…ˆæ·»åŠ ä¸¤ä¸ªç”¨æˆ·ï¼Œ zorro å’Œ jerry ï¼š</p>
<div class="highlight"><pre>[root@zorrozou-pc ~]# useradd zorro
[root@zorrozou-pc ~]# useradd jerry
</pre></div>

<p>ä¿®æ”¹ /etc/cgrules.conf ï¼Œæ·»åŠ ä¸¤è¡Œå†…å®¹ï¼š</p>
<div class="highlight"><pre>[root@zorrozou-pc ~]# cat /etc/cgrules.conf 
zorro       cpu,cpuacct zorro
jerry       cpu,cpuacct jerry
</pre></div>

<p>ä¿®æ”¹ /etc/cgconfig.conf ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre>[root@zorrozou-pc ~]# cat /etc/cgconfig.conf
mount {
    cpuset  = /cgroup/cpuset;
    cpu = /cgroup/cpu;
    cpuacct = /cgroup/cpuacct;
    memory  = /cgroup/memory;
    devices = /cgroup/devices;
    freezer = /cgroup/freezer;
    net_cls = /cgroup/net_cls;
    blkio   = /cgroup/blkio;
}

group zorro {
    cpuset {
        cpuset.cpus = "1,2";
    }
}

group jerry {
    cpuset {
        cpuset.cpus = "3,4";
    }
}
</pre></div>

<p>é‡å¯ cgconfig æœåŠ¡å’Œ cgred æœåŠ¡ï¼š</p>
<div class="highlight"><pre>[root@zorrozou-pc ~]# service cgconfig restart
[root@zorrozou-pc ~]# service cgred restart
</pre></div>

<p>æ ¹æ®ä¸Šé¢çš„é…ç½®ï¼Œæˆ‘ä»¬ç»™ zorro ç»„åˆ jerry ç»„åˆ†åˆ«é…ç½®äº† cpuset çš„éš”ç¦»è®¾ç½®ï¼Œé‚£ä¹ˆåœ¨ cgroup çš„ç›¸å…³ç›®å½•ä¸‹åº”è¯¥å‡ºç°ç›¸å…³ç»„çš„é…ç½®æ–‡ä»¶ï¼š<br>
<em>æœ¬æ–‡ä¸­æ‰€å‡ºç°çš„</em><em>ç»„</em><em>çš„å«ä¹‰ï¼Œå¦‚æ— ç‰¹æ®Šè¯´æ˜éƒ½æ˜¯å¯¹åº” cgroup çš„æ§åˆ¶ç»„ï¼Œè€Œéç”¨æˆ·ç»„èº«ä»½ã€‚</em><br>
æˆ‘ä»¬å¯ä»¥é€šè¿‡æ£€æŸ¥ç›¸å…³ç›®å½•å†…å®¹æ¥æ£€æŸ¥ä¸€ä¸‹ç¯å¢ƒæ˜¯å¦é…ç½®å®Œæˆï¼š</p>
<div class="highlight"><pre>[root@zorrozou-pc ~]# ls /cgroup/cpuset/{zorro,jerry}
/cgroup/cpuset/jerry:
cgroup.clone_children  cpuset.cpu_exclusive  cpuset.mem_exclusive   cpuset.memory_pressure     cpuset.mems                      cpuset.stat
cgroup.event_control   cpuset.cpuinfo        cpuset.mem_hardwall    cpuset.memory_spread_page  cpuset.sched_load_balance        notify_on_release
cgroup.procs           cpuset.cpus           cpuset.memory_migrate  cpuset.memory_spread_slab  cpuset.sched_relax_domain_level  tasks

/cgroup/cpuset/zorro:
cgroup.clone_children  cpuset.cpu_exclusive  cpuset.mem_exclusive   cpuset.memory_pressure     cpuset.mems                      cpuset.stat
cgroup.event_control   cpuset.cpuinfo        cpuset.mem_hardwall    cpuset.memory_spread_page  cpuset.sched_load_balance        notify_on_release
cgroup.procs           cpuset.cpus           cpuset.memory_migrate  cpuset.memory_spread_slab  cpuset.sched_relax_domain_level  tasks
</pre></div>

<p>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„å®éªŒç¯å¢ƒå·²ç»æ­å»ºå®Œæˆã€‚</p>

<h3>æµ‹è¯•ç”¨ä¾‹è®¾è®¡</h3>

<p>æ— è®ºæ˜¯é’ˆå¯¹ CPU æ ¸å¿ƒçš„éš”ç¦»è¿˜æ˜¯é’ˆå¯¹ CPU æ—¶é—´çš„éš”ç¦»ï¼Œæˆ‘ä»¬éƒ½éœ€è¦ä¸€ä¸ªå¯ä»¥æ¶ˆè€—å¤§é‡çš„ CPU è¿ç®—èµ„æºçš„ç¨‹åºæ¥è¿›è¡Œæµ‹è¯•ï¼Œè€ƒè™‘åˆ°æˆ‘ä»¬æ˜¯ä¸€ä¸ªå¤š CPU æ ¸å¿ƒçš„ç¯å¢ƒï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æµ‹è¯•ç”¨ä¾‹ä¸€å®šä¹Ÿæ˜¯ä¸€ä¸ªå¯ä»¥å¹¶å‘ä½¿ç”¨å¤šä¸ª CPU æ ¸å¿ƒçš„è®¡ç®—å‹æµ‹è¯•ç”¨ä¾‹ã€‚é’ˆå¯¹è¿™ä¸ªéœ€æ±‚ï¼Œæˆ‘ä»¬é¦–å…ˆè®¾è®¡äº†ä¸€ä¸ªä½¿ç”¨å¤šçº¿ç¨‹å¹¶å‘è¿›è¡Œç­›è´¨æ•°çš„ç®€å•ç¨‹åºã€‚è¿™ä¸ªç¨‹åºå¯ä»¥æ‰“å°å‡ºä» 100010001 åˆ° 100020000 æ•°å­—èŒƒå›´å†…çš„è´¨æ•°æœ‰å“ªäº›ã€‚å¹¶å‘ 48 ä¸ªå·¥ä½œçº¿ç¨‹ä»ä¸€ä¸ªå…±äº«çš„ count æ•´å‹å˜é‡ä¸­å–æ•°è¿›è¡Œè®¡ç®—ã€‚ç¨‹åºæºä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre>#include &lt;pthread.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#define NUM 48
#define START 100010001
#define END 100020000

pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;
pthread_cond_t cond = PTHREAD_COND_INITIALIZER;
static int count = 0;

void *prime(void *p)
{
    int n, i, flag;

    while (1) {
            if (pthread_mutex_lock(&amp;mutex) != 0) {
                    perror("pthread_mutex_lock()");
                    pthread_exit(NULL);
            }
            while (count == 0) {
                    if (pthread_cond_wait(&amp;cond, &amp;mutex) != 0) {
                            perror("pthread_cond_wait()");
                            pthread_exit(NULL);
                    }
            }
            if (count == -1) {
                    if (pthread_mutex_unlock(&amp;mutex) != 0) {
                            perror("pthread_mutex_unlock()");
                            pthread_exit(NULL);
                    }
                    break;
            }
            n = count;
            count = 0;
            if (pthread_cond_broadcast(&amp;cond) != 0) {
                    perror("pthread_cond_broadcast()");
                    pthread_exit(NULL);
            }
            if (pthread_mutex_unlock(&amp;mutex) != 0) {
                    perror("pthread_mutex_unlock()");
                    pthread_exit(NULL);
            }
            flag = 1;
            for (i=2;i&lt;n/2;i++) {
                    if (n%i == 0) {
                            flag = 0;
                            break;
                    }
            }
            if (flag == 1) {
                    printf("%d is a prime form %d!\n", n, pthread_self());
            }
    }
    pthread_exit(NULL);
}


int main(void)
{
    pthread_t tid[NUM];
    int ret, i;

    for (i=0;i&lt;NUM;i++) {
            ret = pthread_create(&amp;tid[i], NULL, prime, NULL);
            if (ret != 0) {
                    perror("pthread_create()");
                    exit(1);
            }
    }

    for (i=START;i&lt;END;i+=2) {
            if (pthread_mutex_lock(&amp;mutex) != 0) {
                    perror("pthread_mutex_lock()");
                    pthread_exit(NULL);
            }
            while (count != 0) {
                    if (pthread_cond_wait(&amp;cond, &amp;mutex) != 0) {
                            perror("pthread_cond_wait()");
                            pthread_exit(NULL);
                    }
            }
            count = i;
            if (pthread_cond_broadcast(&amp;cond) != 0) {
                    perror("pthread_cond_broadcast()");
                    pthread_exit(NULL);
            }
            if (pthread_mutex_unlock(&amp;mutex) != 0) {
                    perror("pthread_mutex_unlock()");
                    pthread_exit(NULL);
            }
    }

    if (pthread_mutex_lock(&amp;mutex) != 0) {
            perror("pthread_mutex_lock()");
            pthread_exit(NULL);
    }
    while (count != 0) {
            if (pthread_cond_wait(&amp;cond, &amp;mutex) != 0) {
                    perror("pthread_cond_wait()");
                    pthread_exit(NULL);
            }
    }
    count = -1;
    if (pthread_cond_broadcast(&amp;cond) != 0) {
            perror("pthread_cond_broadcast()");
            pthread_exit(NULL);
    }
    if (pthread_mutex_unlock(&amp;mutex) != 0) {
            perror("pthread_mutex_unlock()");
            pthread_exit(NULL);
    }

    for (i=0;i&lt;NUM;i++) {
            ret = pthread_join(tid[i], NULL);
            if (ret != 0) {

                    perror("pthread_join()");
                    exit(1);
            }
    }

    exit(0);
}
</pre></div>

<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹è¿™ä¸ªç¨‹åºåœ¨ä¸åšé™åˆ¶çš„æƒ…å†µä¸‹çš„æ‰§è¡Œæ•ˆæœå’Œæ‰§è¡Œæ—¶é—´ï¼š</p>
<div class="highlight"><pre>[root@zorrozou-pc ~/test]# time ./prime_thread
......

100019603 is a prime form 2068363008!
100019471 is a prime form 1866938112!
100019681 is a prime form 1934079744!
100019597 is a prime form 1875330816!
100019701 is a prime form 2059970304!
100019657 is a prime form 1799796480!
100019761 is a prime form 1808189184!
100019587 is a prime form 1824974592!
100019659 is a prime form 2076755712!
100019837 is a prime form 1959257856!
100019923 is a prime form 2034792192!
100019921 is a prime form 1908901632!
100019729 is a prime form 1850152704!
100019863 is a prime form -2109106432!
100019911 is a prime form -2125891840!
100019749 is a prime form 2101933824!
100019879 is a prime form 2026399488!
100019947 is a prime form 1942472448!
100019693 is a prime form 1917294336!
100019683 is a prime form 2051577600!
100019873 is a prime form 2110326528!
100019929 is a prime form -2134284544!
100019977 is a prime form 1892116224!

real    0m8.945s
user    3m32.095s
sys 0m0.235s



[root@zorrozou-pc ~]# mpstat -P ALL 1
11:21:51     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
11:21:52     all   99.92    0.00    0.08    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52       0  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52       1  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52       2  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52       3  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52       4   99.00    0.00    1.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52       5  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52       6  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52       7  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52       8  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52       9  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52      10  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52      11   99.01    0.00    0.99    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52      12  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52      13  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52      14  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52      15  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52      16   99.01    0.00    0.00    0.00    0.99    0.00    0.00    0.00    0.00    0.00
11:21:52      17  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52      18  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52      19  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52      20  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52      21  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52      22  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
11:21:52      23  100.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00
</pre></div>

<p>ç»è¿‡å¤šæ¬¡æµ‹è¯•ï¼Œç¨‹åºæ‰§è¡Œæ—¶é—´åŸºæœ¬ç¨³å®šï¼š</p>
<div class="highlight"><pre>[root@zorrozou-pc ~/test]# time ./prime_thread &amp;&gt; /dev/null

real    0m8.953s
user    3m31.950s
sys 0m0.227s
[root@zorrozou-pc ~/test]# time ./prime_thread &amp;&gt; /dev/null

real    0m8.932s
user    3m31.984s
sys 0m0.231s
[root@zorrozou-pc ~/test]# time ./prime_thread &amp;&gt; /dev/null

real    0m8.954s
user    3m31.794s
sys 0m0.224s
</pre></div>

<p>æ‰€æœ‰ç›¸å…³ç¯å¢ƒéƒ½å‡†å¤‡å°±ç»ªï¼Œåç»­æˆ‘ä»¬å°†åœ¨æ­¤ç¨‹åºçš„åŸºç¡€ä¸Šè¿›è¡Œå„ç§éš”ç¦»çš„æµ‹è¯•ã€‚</p>
</div></div>
        
        
    </div>
    
    
    
</div>

<div class="sep20"></div>


<div class="box">
    <div class="cell"><div class="fr" style="margin: -3px -5px 0px 0px;"><a href="https://www.v2ex.com/tag/CPU" class="tag"><li class="fa fa-tag"></li> CPU</a><a href="https://www.v2ex.com/tag/cgroup" class="tag"><li class="fa fa-tag"></li> cgroup</a><a href="https://www.v2ex.com/tag/11:21:52" class="tag"><li class="fa fa-tag"></li> 11:21:52</a><a href="https://www.v2ex.com/tag/prime" class="tag"><li class="fa fa-tag"></li> prime</a></div><span class="gray">15 å›å¤ &nbsp;<strong class="snow">|</strong> &nbsp;ç›´åˆ° 2015-12-29 20:20:47 +08:00</span>
    </div>
    

    
        
        
        <div id="r_2767014" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="43023_normal.png" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">1</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/Earthman" class="dark">Earthman</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-28 23:02:08 +08:00</span>  &nbsp; <span class="small fade">â™¥ 1</span>
                    <div class="sep5"></div>
                    <div class="reply_content">æ²¡äººé¡¶æ¥¼ä¸»ï¼Œå¯æƒœï¼Œæˆ˜ç•¥æ€§ mark</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2767022" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="f750f1d434d3cdba17f7a22d53387288" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">2</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/Evovil" class="dark">Evovil</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-28 23:05:15 +08:00</span> 
                    <div class="sep5"></div>
                    <div class="reply_content">mark ã€‚ã€‚ã€‚</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2767059" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="47818_normal.png" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">3</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/donge" class="dark">donge</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-28 23:20:49 +08:00</span>  &nbsp; <span class="small fade">â™¥ 1</span>
                    <div class="sep5"></div>
                    <div class="reply_content">æ¥¼ä¸»è®²çš„ä¸é”™ï¼ŒæŠ€æœ¯ç†è§£ä¸è¡¨è¾¾èƒ½åŠ›å…¼å…·ã€‚</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2767064" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="151104_normal.png" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">4</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/luohaha" class="dark">luohaha</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-28 23:22:45 +08:00</span> 
                    <div class="sep5"></div>
                    <div class="reply_content">mark</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2767081" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="2ade81d6da4a223032d4ef36801d41a0" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">5</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/bluecubic" class="dark">bluecubic</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-28 23:28:42 +08:00 via Android</span> 
                    <div class="sep5"></div>
                    <div class="reply_content">Lz çš„æŠ€æœ¯æ–‡ç« ä¸é”™ï¼Œå¯æ˜¯èƒ½ä¸èƒ½ä»‹ç»ä¸€ä¸‹èƒŒæ™¯ä¸ºä»€ä¹ˆè¦è®¨è®ºè¿™ä¸ªä¸»é¢˜</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2767105" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="136983_normal.png" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">6</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/jerry017cn" class="dark">jerry017cn</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-28 23:38:08 +08:00</span> 
                    <div class="sep5"></div>
                    <div class="reply_content">@<a href="https://www.v2ex.com/member/bluecubic">bluecubic</a> cgroup æ˜¯ Docker çš„åº•å±‚å®ç°èµ„æºéš”ç¦»çš„æŠ€æœ¯ï¼Œæˆ‘æœ¬äººç®—æ˜¯åœ¨å·¥ä½œä¸­æœ‰ä¸€äº›ä½¿ç”¨ä¸Šçš„å¿ƒå¾—ç»éªŒï¼Œåˆ†äº«ä¸€ä¸‹ã€‚</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2767163" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="14481_normal.png" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">7</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/Gothack" class="dark">Gothack</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-28 23:57:37 +08:00</span> 
                    <div class="sep5"></div>
                    <div class="reply_content">é‡åˆ°ç†Ÿäºº ğŸ˜„</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2767169" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="127675_normal.png" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">8</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/raingolee" class="dark">raingolee</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-28 23:59:58 +08:00</span> 
                    <div class="sep5"></div>
                    <div class="reply_content">æ”¯æŒæ¥¼ä¸»~å·²ä¸‹è½½ pdf<br><br>æœ€è¿‘åˆšå¥½åœ¨çœ‹ namespace cgroup</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2767182" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="8042_normal.png" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">9</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/janxin" class="dark">janxin</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-29 00:04:41 +08:00</span> 
                    <div class="sep5"></div>
                    <div class="reply_content">å·²æ„Ÿè°¢</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2767241" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="77587_normal.png" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">10</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/br00k" class="dark">br00k</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-29 00:38:56 +08:00</span> 
                    <div class="sep5"></div>
                    <div class="reply_content">mark å¥½æ–‡</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2767253" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="12897_normal.png" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">11</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/erik0" class="dark">erik0</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-29 00:48:55 +08:00</span> 
                    <div class="sep5"></div>
                    <div class="reply_content">å…³æ³¨ã€‚æœ€è¿‘åœ¨å­¦ä¹ å®¹å™¨ã€‚</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2767263" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="107367_normal.png" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">12</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/Andiry" class="dark">Andiry</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-29 00:54:53 +08:00</span> 
                    <div class="sep5"></div>
                    <div class="reply_content">ä¸å¾—ä¸è¯´è¿™ä¸ªæµ‹è¯•ç¨‹åºå†™çš„å¾ˆ 2 ï¼Œè¦ mutex å’Œ cond å¹²å˜›ï¼Œæ¯ä¸ªçº¿ç¨‹æ ¹æ®è‡ªå·±çš„ id ç›´æ¥å–æ•°ä¸å°±å®Œäº†</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2767519" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="87863_normal.png" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">13</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/eastlhu" class="dark">eastlhu</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-29 08:37:10 +08:00</span> 
                    <div class="sep5"></div>
                    <div class="reply_content">è¿˜æ²¡ä»”ç»†çœ‹ï¼Œä¸è¿‡æ¥¼ä¸»è¿™ä¸ªè®¤çœŸåŠ²ä¸é”™</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2767530" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="141071_normal.png" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">14</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/GNiux" class="dark">GNiux</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-29 08:41:13 +08:00 via iPhone</span> 
                    <div class="sep5"></div>
                    <div class="reply_content">Mark. æ˜¨æ™šå°±çœ‹åˆ°äº†ã€‚ä¸è¿‡ç¡ç€äº†ã€‚</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    

    
        
        
        <div id="r_2770132" class="cell">
        
        <table width="100%" cellspacing="0" cellpadding="0" border="0">
            <tbody><tr>
                <td valign="top" width="48" align="center"><img src="41060_normal.png" class="avatar" border="0" align="default"></td>
                <td valign="top" width="10"></td>
                <td valign="top" width="auto" align="left"><div class="fr"> &nbsp; &nbsp; <span class="no">15</span></div>
                    <div class="sep3"></div>
                    <strong><a href="https://www.v2ex.com/member/itfanr" class="dark">itfanr</a></strong>&nbsp; &nbsp;<span class="ago">2015-12-29 20:20:47 +08:00</span> 
                    <div class="sep5"></div>
                    <div class="reply_content">å·²æ”¶è—</div>
                </td>
            </tr>
        </tbody></table>
        </div>
    


</div>
<div class="sep20"></div>






            </div>
            
            
        </div>
        <div class="c"></div>
        <div class="sep20"></div>
    </div>
    <div id="Bottom">
        <div class="content">
            <div class="inner">
                <div class="sep10"></div>
                    <div class="fr">
                        <a href="https://www.digitalocean.com/?refcode=1b51f1a7651d" target="_top"><div id="DigitalOcean"></div></a>
                    </div>
                    <strong><a href="https://www.v2ex.com/about" class="dark" target="_self">å…³äº</a> &nbsp; <span class="snow">Â·</span> &nbsp; <a href="https://www.v2ex.com/faq" class="dark" target="_self">FAQ</a> &nbsp; <span class="snow">Â·</span> &nbsp; <a href="https://www.v2ex.com/p/7v9TEc53" class="dark" target="_self">API</a> &nbsp; <span class="snow">Â·</span> &nbsp; <a href="https://www.v2ex.com/mission" class="dark" target="_self">æˆ‘ä»¬çš„æ„¿æ™¯</a> &nbsp; <span class="snow">Â·</span> &nbsp; <a href="https://www.v2ex.com/advertise" class="dark" target="_self">å¹¿å‘ŠæŠ•æ”¾</a> &nbsp; <span class="snow">Â·</span> &nbsp; <a href="https://www.v2ex.com/advertise/2017.html" class="dark" target="_self">æ„Ÿè°¢</a> &nbsp; <span class="snow">Â·</span> &nbsp; <a href="https://www.v2ex.com/tools" class="dark" target="_self">å®ç”¨å°å·¥å…·</a> &nbsp; <span class="snow">Â·</span> &nbsp; 3812 äººåœ¨çº¿</strong> &nbsp; <span class="fade">æœ€é«˜è®°å½• 4019</span> &nbsp; <span class="snow">Â·</span> &nbsp; <a href="https://www.v2ex.com/select/language"><img src="lang_zhcn_32.png" alt="" width="20" border="0" align="absmiddle"></a>
                    <div class="sep20"></div>
                    åˆ›æ„å·¥ä½œè€…ä»¬çš„ç¤¾åŒº
                    <div class="sep5"></div>
                    World is powered by solitude
                    <div class="sep20"></div>
                    <span class="small fade">VERSION: 3.9.8.1 Â· 23ms Â· UTC 02:14 Â· PVG 10:14 Â· LAX 18:14 Â· JFK 21:14<br>â™¥ Do have faith in what you're doing.</span>
                    <div class="sep20"></div>
                    <table width="100%" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td style="background-color: transparent;" valign="middle" width="140" align="left"><span class="f12 gray"><a href="http://www.miibeian.gov.cn/" target="_top" rel="nofollow">æ²ªICPå¤‡16043287å·-1</a></span></td><td style="background-color: transparent;" valign="middle" width="auto" align="left"></td></tr></tbody></table>
                <div class="sep10"></div>
            </div>
        </div>
    </div>
    

    

    

    
    
    

    
	
    

    
    

</body>
</html>
