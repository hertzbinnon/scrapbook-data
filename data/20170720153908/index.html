<!DOCTYPE html>
<html class="js" lang="en">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
 <link rel="canonical" href="https://www.reinterpretcast.com/roll-your-own-cdn">   <meta content="width=device-width, initial-scale=1, minimum-scale=1" name="viewport"> <link rel="shortcut icon" href="favicon.ico"> <link rel="alternate" type="application/rss+xml" href="http://www.reinterpretcast.com/feed.xml" title="reinterpretcast.com RSS Feed"> <title>Roll Your Own DNS-Based CDN | reinterpretcast.com</title> <link rel="stylesheet" type="text/css" id="SL_Style" href="chrome://imtranslator/content/css/translator.css">
<link media="all" href="index.css" type="text/css" rel="stylesheet">
</head>
<body class=" mobile-friendly no-touch">   <div class="wrap"> <header> <div class="wrap"> <div class="logo"> <a href="http://www.reinterpretcast.com/"><h1>reinterpret<span>cast</span></h1></a> </div> <nav> <a href="http://www.reinterpretcast.com/" data-text="Posts">Posts</a> <a href="http://www.reinterpretcast.com/projects" data-text="Projects">Projects</a> <a href="http://www.reinterpretcast.com/about" data-text="About">About</a> </nav> </div> </header> <div class="header-push"></div> <main> <article> <h1>Roll Your Own DNS-Based CDN</h1> <div class="pubstamp"> Published July 31, 2014 By Joe Savage </div> <section> <p>Websites are accessed in more areas around the globe today than ever before. For the most part this is good news all around, but with this growth comes a number of challenges — one of these being the latency and unreliability in accessing servers from geographically distant locations.</p> <h2>Introduction</h2> <p>Running the <code class="highlight">ping</code> utility from my consumer-grade UK broadband internet connection against the server that hosts the Australian Department of Health website yields an average of around 370ms round trip latency. As a result, the 44 HTTP requests on <a href="http://www.health.gov.au/">their homepage</a> take my browser over 12s to finish loading. Perhaps this is just about acceptable in this case given that their target audience is likely Australian, but it's hardly ideal, and this type of situation only gets worse if we start talking about servers that serve realtime content.</p> <p>A solution to this latency problem for big global websites — providing things are elsewhere properly optimised (like reducing HTTP requests from 44, *cough*) — is often to use globally distributed CDNs. These generally provide low latency high capacity infrastructures that serve files from the closest CDN server to the user. You may have heard of some of the big players that offer these services such as Akamai and Amazon Cloudfront.</p> <p>This means that instead of sending 44 HTTP requests all the way to Australia, I might be able to send them to a server right here in the UK — a path over 15,000 kilometres shorter, offering a more reliable connection with a great deal less latency.</p> </section><figure> <img src="uk-australia-server-paths.jpg"> <figcaption>Hazard a guess at which route is faster?</figcaption></figure><section> <p>So if I wanted to set up my own video sharing website, for example, it would almost certainly be worth my time serving video content from a CDN of sorts so that users around the world can stream video content without getting eternally frustrating at the streaming speed. Of course, a CDN isn't the silver bullet in such a situation — there are a great deal of infrastructural issues that need addressing if you're looking to serve video at scale — but a CDN is certainly a step in the right direction.</p> <p>So I'll just go out and exchange some funds with Akamai, Amazon, MaxCDN, or Cloudflare, right? Well, maybe. For a lot of projects that need to globally scale, those guys offer fantastic solutions. They're the professionals at doing this stuff after all. For other projects, however, these CDNs are too expensive, don't provide some level of required flexibility, or are just downright overkill. In these cases, why not set up your own smaller-scale CDN? Plus, it'll be fun.</p> <h2>The Theory</h2> <p>Different CDNs work in different ways — these each have their own merits, but in this article I'm going to focus on setting up the global distribution mechanism via DNS. The thinking here is as follows: the user pops open their web browser of choice and navigates to a URL referring to a resource you want globally distributed. In order to make the request, their web browser needs to resolve the requested domain name into an IP address of a server to query.</p> <p>Their browser sends the DNS request to perform this resolution to the nameserver that the user is configured with — often the ISP's DNS server — and assuming the result of the query isn't in the nameserver's cache, the request may bounce through a few other nameservers until it finally reaches our custom-configured nameserver, which returns the IP of the geographically closest server to the requesting entity's IP address. Simple!</p> </section><figure> <img src="geo-dns-theory.jpg" style="width: 489px;"> <figcaption>A slightly simplified representation of the plan for the core of our CDN.</figcaption></figure><section> <p>Note the assumption here that the user's location and the location of the requesting DNS server are the same. This is often the case, but not always. If the user is using Google's DNS servers, for example, their DNS request will be routed through one of Google's physical nameservers, which may or may not reside in the same country as the user.</p> <p>In terms of the software we want to use here, there are a few options, but I've chosen to use the PowerDNS software with the <a href="http://doc.powerdns.com/html/geo.html">Geo backend</a> for location-based routing. This setup is actually <a href="http://en.wikipedia.org/wiki/PowerDNS#PowerDNS_and_Wikimedia">what The Wikimedia Foundation uses</a> for their DNS as a form of load balancing and to "reduce response times for clients".</p> <h2 id="cutTheCrap">Getting It Working</h2> <p>With all that chit-chat out of the way, let's actually get some nameservers set up. You can go ahead and purchase a couple of VPSes from your favourite VPS supplier — <a href="https://www.linode.com/?r=9fd88c29ffdc83f0a079dcadc35192e0183c2c1e">Linode</a> and <a href="https://www.digitalocean.com/?refcode=19f55369edf6">DigitalOcean</a> are my personal favourites (the smallest DO droplets are good for this) — and get them set up with some sensible default configurations (e.g. secure SSH access). If you install a firewall, be sure to allow traffic through port 53.</p> <p>On the chance that you don't already own some servers to do the heavy lifting of actually serving the CDN data, you'll probably want to purchase and configure a few of those too (I recommend installing <a href="https://www.varnish-cache.org/">Varnish</a>).</p> <p>I'm going to be running through these instructions with Ubuntu Server 14.04 LTS, but many of the steps will be applicable to other Linux distributions... probably. In a production environment it'd make sense to configure some replication between a number of nameservers, but for this article I'm just going to step through a single, manual, standalone configuration.</p> <p>First off, let's install the software that we've already established we'll need, PowerDNS and the Geo backend: <code class="highlight">sudo apt-get install pdns-server pdns-backend-geo</code>.</p> <p>After installation you can go into the PowerDNS directory (which is <code class="highlight">/etc/powerdns</code> on my machine), and configure all your regular DNS stuff: your SOA record, NS records, A/AAAA records, any MX records, etc. For the sake of simplicity here, I'll do this through the BIND zone backend. If you aren't familiar with the BIND zone file format, it's <a href="http://en.wikipedia.org/wiki/Zone_file#File_format">fairly standard</a>.</p> <code class="highlight">/etc/powerdns/bindbackend.conf</code>: </section><div class="codeblock plain"><div class="highlight"><pre>zone "example.com" {
	type master;
	file "/etc/powerdns/bind/example.com.zone";
	allow-update { none; };
};
</pre></div></div><section> <br> <code class="highlight">/etc/powerdns/bind/example.com.zone</code>: </section><div class="codeblock plain"><div class="highlight"><pre>$ORIGIN example.com. ; base for unqualified names
$TTL 86400           ; default record time-to-live
@	IN	SOA	ns1.example.com. hostmaster.example.com. 2014073100 86400 7200 3600000 172800
@		NS	ns1.example.com.
@		NS	ns2.example.com.
ns1		A	your-ns1-ip
ns2		A	your-ns2-ip
; ...
</pre></div></div><section> <p>Importantly, note the presence of the NS records which indicate the authoritative nameservers for this zone, and the A records which can resolve these nameserver addresses. You'll want to specify NS and A records for all the custom-configured nameservers that you plan to set up (and remember, it's important to have more than one in case your only nameserver falls over and dies).</p> <p>Next, we need to think about configuring the Geo backend. The majority of this should be straightforward, however since the backend can only apply to a single zone at a time and has to manage all the DNS properties of this zone, some thought should be put towards how we want to manage the zones and records such that they work together properly.</p> <p>My solution to this is to use CNAME records to circumvent the single zone limitation. If you aren't familiar, CNAME records can essentially be read as "this thing resolves to the same IP as that thing". So we can have a single zone dedicated to the Geo backend — <code class="highlight">geo.example.com</code> — and if we want to geographically balance <code class="highlight">www.example.com</code>, we create a CNAME record from the 'www' subdomain to the 'geo' subdomain. The Geo backend will then do its magic and will return another CNAME record, this one being to the record representing the server closest to a certain region — but more on that in a minute.</p> <p>To start off the configuration let's head over to the <code class="highlight">/etc/powerdns/pdns.d</code> directory (which is included into the main configuration file by default), and create a new file for our location-based routing config. I'm going to call mine <code class="highlight">pdns.geo.conf</code>. Here we can configure our Geo backend, <code class="highlight">geo.example.com</code>, zone:</p> </section><div class="codeblock plain"><div class="highlight"><pre># Add the geo backend to the list of backends to launch
launch+=geo

# The zone we want geo-balanced
geo-zone=geo.example.com

# The SOA values for this zone.
# The only parts of the SOA that apply here are the primary nameserver
# and the contact address (as there's no AXFR).
geo-soa-values=ns1.example.com,hostmaster@example.com

# List of NS records of the PowerDNS servers that are authoritative for
# this zone.
geo-ns-records=ns1.example.com,ns2.example.com

# The TTL of the CNAME records that geobackend will return.  Since the same
# resolver will always get the same CNAME (apart from if the director-map
# changes) it is safe to return a reasonable TTL, so if you leave this
# commented then a sane default will be chosen.
# geo-ttl=300

# The TTL of the NS records that will be returned.  Leave this commented if
# you don't understand.
# geo-ns-ttl=86400

# IP/prefixlen -&gt; ISO-country-code mappings
geo-ip-map-zonefile=/etc/powerdns/countries/zz.countries.nerd.dk.rbldnsd

# The map files that say which record to answer for and what actual
# resource record to return for each ISO country code.
# ISO-country-code -&gt; Region mappings
geo-maps=/etc/powerdns/geo-maps
</pre></div></div><section> <p>For the most part these settings should be reasonably straightforward to follow. The last two — as commented in the snippet — are essentially just files used by the Geo backend to figure out which IP's refer to which country codes, and then which country codes should refer to which region-specific server records.</p> <p>So let's go ahead and provide both of these mappings. Andreas Plesner Jacobsen over at Nerd.dk has created an IP to ISO country code mapping that I use — 'zz.countries.nerd.dk.rbldnsd' —, but I can't find a reputable link to it anywhere. I have no idea how up-to-date the version I have is, but I've uploaded it as a GitHub Gist that you can get <a href="https://gist.githubusercontent.com/joesavage/35a11aa5508822c0059a/raw/zz.countries.nerd.dk.rbldnsd">here</a>.</p> <p>You can download the IP to ISO country code mapping file you want to use (e.g. via <code class="highlight">wget</code>) to the location we specified in our config file, <code class="highlight">/etc/powerdns/countries/zz.countries.nerd.dk.rbldnsd</code>. Next up, we need to specify some region to resource record mappings. We want to specify the mappings for the <code class="highlight">geo.example.com</code> zone, so can create the file <code class="highlight">/etc/powerdns/geo-maps/geo.example.com</code>.</p> <p>In this file we should firstly set the <code class="highlight">$RECORD</code> and <code class="highlight">$ORIGIN</code> values. <code class="highlight">$RECORD</code> dictates the resource that this mapping is for, and <code class="highlight">$ORIGIN</code> — like in the BIND zone file format — specifies a base address for unqualified names. Thus we can set <code class="highlight">$RECORD</code> to <code class="highlight">geo.example.com.</code> and <code class="highlight">$ORIGIN</code> to <code class="highlight">example.com.</code> so we can have <code class="highlight">geo.example.com</code> redirect to something like <code class="highlight">eu.example.com</code> simply with the <code class="highlight">isoCountryNumber -&gt; eu</code> country to resource mapping.</p> <p>The data in the file proceeding this really depends on what servers you actually want users from different countries to use. Essentially what follows is just a series of country code numbers followed by record names, in which the country code <code class="highlight">0</code> is the default if there are no other matches. It makes sense to use a script of some sorts to dynamically generate this mapping depending on your specific needs — I've prepared a JavaScript object <a href="https://gist.github.com/joesavage/1c40adf08751b7a6c083">here</a> for your potential usage, the data for which came from <a href="ftp://ftp.fu-berlin.de/doc/iso/iso3166-countrycodes.txt">here</a>.</p> <p>If you decide to create a script that can generate this file for you, this also opens up some possibilities for adding health checks and load stress data into your generation algorithms. Every five minutes, for example, you could re-generate the map and then run <code class="highlight">pdns_control rediscover</code> to get the Geo backend to refresh its data. Keep in mind you'd probably want to lower the <code class="highlight">geo-ttl</code> setting in this case, especially if you're using something like health checks to provide DNS-level failover. I'm not sure whether doing this is necessarily a good idea, but it's an interesting route of thought at least.</p> <p>Back to the configuration though, for the sakes of this article let's just say we wanted an extremely simple mapping: we want users from the United States to use the US server, represented by the <code class="highlight">us.example.com</code> record, and everyone else to use the EU server, represented by the <code class="highlight">eu.example.com</code> record. Thus our <code class="highlight">/etc/powerdns/geo-maps/geo.example.com</code> file will be as follows:</p> </section><div class="codeblock plain"><div class="highlight"><pre>$RECORD geo.example.com.
$ORIGIN example.com.
0 eu
840 us
</pre></div></div><section> <p>Great! Now we should let our nameserver know which IP addresses <code class="highlight">eu.example.com</code> and <code class="highlight">us.example.com</code> actually relate to, which we can do by simply adding some some bits to our zone file (<code class="highlight">/etc/powerdns/bind/example.com.zone</code>):</p> </section><div class="codeblock plain"><div class="highlight"><pre>eu		A		eu-server-ipv4-address
us		A		us-server-ipv4-address
</pre></div></div><section> <p>For IPv6 support, you could add some AAAA records here too.</p> <p>We should also add some CNAME records for whatever subdomains we actually want to use the location-based routing functionality for such that they hit our <code class="highlight">geo.example.com</code> zone, as discussed earlier:</p> </section><div class="codeblock plain"><div class="highlight"><pre>www		CNAME	geo
cdn		CNAME	geo
</pre></div></div><section> <p>Following this, we're pretty much finished with the important stuff. Keep in mind that using CNAME in this way can often create opportunities for duplicate content (users might, for example, go to 'eu.example.com' direct in their web browser rather than going to 'www.example.com', which we don't want), so you may wish to ensure your server is redirecting requests as appropriate.</p> <p>As a closing step before we switch this baby on, a few final pieces of configuration modification may be necessary. On my default install, the <code class="highlight">/etc/powerdns/pdns.d/pdns.simplebind.conf</code> file contains a launch statement which may override the one we specified in our geo config file. Modify the line <code class="highlight">launch=bind</code>, if present, to <code class="highlight">launch+=bind</code> so that the configurations can play together nicely. The usage of <code class="highlight">launch+=</code> everywhere will also require a base property to add to, so you should open up <code class="highlight">/etc/powerdns/pdns.conf</code> and uncomment or add the line <code class="highlight">launch=</code>.</p> <p>And that's it, we're finally done! Run <code class="highlight">sudo service pdns restart</code> to restart PowerDNS, and then you can try to use <code class="highlight">dig</code> or <code class="highlight">host</code> on your local machine, sending the request to any one of your specially configured cluster of nameservers, to see if you get the response you expect. <code class="highlight">dig www.example.com @nameserver-ip-address</code> or <code class="highlight">host www.example.com nameserver-ip-address</code> should work great. In true "You have a problem? Try throwing some VPSes at it." style, I fired up some boxes in different regions to test this configuration, and it works!</p> </section><figure> <img src="geo-dns-results.jpg" style="width: 489px;"> <figcaption><code class="highlight">dig</code> output from european and american machines. Huzzah — it works!</figcaption></figure><section> <p>With all of this set up successfully, pushing the system into production would be relatively easy — you'd just need to set up some <a href="http://serverfault.com/questions/309622/what-is-a-glue-record#309626">glue records</a> so that your nameservers resolve correctly and then just point your domain to your custom nameservers. There you have it, your very own small-scale low-budget custom CDN!</p> </section> <div class="share-buttons"> <a class="share-button facebook" href="https://www.facebook.com/sharer.php?u=https://www.reinterpretcast.com/roll-your-own-cdn" title="Share This on Facebook" target="_top"></a> <a class="share-button twitter" href="https://twitter.com/share?text=Roll+Your+Own+DNS-Based+CDN&amp;url=https://www.reinterpretcast.com/roll-your-own-cdn&amp;via=_joesavage" title="Share This on Twitter" target="_top"></a> <a class="share-button reddit" href="https://www.reddit.com/search?q=https://www.reinterpretcast.com/roll-your-own-cdn" title="Share This on Reddit" target="_top"></a> <a class="share-button hackernews" id="hn-share-button" href="http://news.ycombinator.com/item?id=8122419" title="Share This on Hacker News" target="_top" style="display: inline-block;"></a>  </div> </article> </main> <div class="footer-push"></div> </div> <footer>© 2017</footer>   
<div id="SL_balloon_obj" style="display: none;"><div id="SL_button" style="background: rgba(0, 0, 0, 0) url('undefined') repeat scroll 0% 0%; display: block; width: 24px; height: 24px; position: absolute; cursor: pointer;"></div><div id="SL_shadow_translation_result2" style="display: none;"></div><div id="SL_shadow_translator"><div id="SL_providers"><div class="SL_BL_LABLE_ON" title="Google" id="SL_P0">G</div><div class="SL_BL_LABLE_ON" title="Microsoft" id="SL_P1">M</div><div class="SL_BL_LABLE_ON" title="Translator" id="SL_P2">T</div></div><div id="SL_planshet" style="background: rgb(244, 245, 245) url('undefined') repeat scroll 0% 0%;"><div id="SL_arrow_up"></div><div id="SL_TB"><div id="bubblelogo" style="background: rgba(0, 0, 0, 0) url('undefined') repeat scroll 0% 0%; display: block; width: 24px; height: 24px; position: absolute;"></div><table id="SL_tables"><tr><td width="10%" align="right"><input id="SLloc" title="鎖定語言" type="checkbox"></td><td width="20%" align="left"><select id="SL_lng_from"><option value="auto">檢測語言</option><option value="sq">阿尔巴尼亚语</option><option value="ar">阿拉伯语</option><option value="az">阿塞拜疆语</option><option value="ga">爱尔兰语</option><option value="et">爱沙尼亚语</option><option value="eu">巴斯克语</option><option value="be">白俄罗斯语</option><option value="bg">保加利亚语</option><option value="is">冰岛语</option><option value="pl">波兰语</option><option value="bs">波斯尼亚语</option><option value="fa">波斯语</option><option value="af">布尔语(南非荷兰语)</option><option value="da">丹麦语</option><option value="de">德语</option><option value="ru">俄语</option><option value="fr">法语</option><option value="tl">菲律宾语</option><option value="fi">芬兰语</option><option value="km">高棉语</option><option value="ka">格鲁吉亚语</option><option value="gu">古吉拉特语</option><option value="kk">哈萨克语</option><option value="ht">海地克里奥尔语</option><option value="ko">韩语</option><option value="ha">豪萨语</option><option value="nl">荷兰语</option><option value="gl">加利西亚语</option><option value="ca">加泰罗尼亚语</option><option value="cs">捷克语</option><option value="kn">卡纳达语</option><option value="hr">克罗地亚语</option><option value="la">拉丁语</option><option value="lv">拉脱维亚语</option><option value="lo">老挝语</option><option value="lt">立陶宛语</option><option value="ro">罗马尼亚语</option><option value="mg">马尔加什语</option><option value="mt">马耳他语</option><option value="mr">马拉地语</option><option value="ml">马拉雅拉姆语</option><option value="ms">马来语</option><option value="mk">马其顿语</option><option value="mi">毛利语</option><option value="mn">蒙古语</option><option value="bn">孟加拉语</option><option value="my">缅甸语</option><option value="hmn">苗语</option><option value="zu">南非祖鲁语</option><option value="ne">尼泊尔语</option><option value="no">挪威语</option><option value="pa">旁遮普语</option><option value="pt">葡萄牙语</option><option value="ny">齐切瓦语</option><option value="ja">日语</option><option value="sv">瑞典语</option><option value="sr">塞尔维亚语</option><option value="st">塞索托语</option><option value="si">僧伽罗语</option><option value="eo">世界语</option><option value="sk">斯洛伐克语</option><option value="sl">斯洛文尼亚语</option><option value="sw">斯瓦希里语</option><option value="ceb">宿务语</option><option value="so">索马里语</option><option value="tg">塔吉克语</option><option value="te">泰卢固语</option><option value="ta">泰米尔语</option><option value="th">泰语</option><option value="tr">土耳其语</option><option value="cy">威尔士语</option><option value="ur">乌尔都语</option><option value="uk">乌克兰语</option><option value="uz">乌兹别克语</option><option value="iw">希伯来语</option><option value="el">希腊语</option><option value="es">西班牙语</option><option value="hu">匈牙利语</option><option value="hy">亚美尼亚语</option><option value="ig">伊博语</option><option value="it">意大利语</option><option value="yi">意第绪语</option><option value="hi">印地语</option><option value="su">印尼巽他语</option><option value="id">印尼语</option><option value="jw">印尼爪哇语</option><option value="en">英语</option><option value="yo">约鲁巴语</option><option value="vi">越南语</option><option value="zh-CN">中文简体</option><option value="zh-TW">中文繁体</option></select></td><td width="5%" align="center"><div id="SL_switch_b" title="切換語言" style="background: rgba(0, 0, 0, 0) url('undefined') repeat scroll 0% 0%; display: block; width: 10px; height: 10px; cursor: pointer;" align="center"></div></td><td width="20%" align="left"><select id="SL_lng_to"><option value="sq">阿尔巴尼亚语</option><option value="ar">阿拉伯语</option><option value="az">阿塞拜疆语</option><option value="ga">爱尔兰语</option><option value="et">爱沙尼亚语</option><option value="eu">巴斯克语</option><option value="be">白俄罗斯语</option><option value="bg">保加利亚语</option><option value="is">冰岛语</option><option value="pl">波兰语</option><option value="bs">波斯尼亚语</option><option value="fa">波斯语</option><option value="af">布尔语(南非荷兰语)</option><option value="da">丹麦语</option><option value="de">德语</option><option value="ru">俄语</option><option value="fr">法语</option><option value="tl">菲律宾语</option><option value="fi">芬兰语</option><option value="km">高棉语</option><option value="ka">格鲁吉亚语</option><option value="gu">古吉拉特语</option><option value="kk">哈萨克语</option><option value="ht">海地克里奥尔语</option><option value="ko">韩语</option><option value="ha">豪萨语</option><option value="nl">荷兰语</option><option value="gl">加利西亚语</option><option value="ca">加泰罗尼亚语</option><option value="cs">捷克语</option><option value="kn">卡纳达语</option><option value="hr">克罗地亚语</option><option value="la">拉丁语</option><option value="lv">拉脱维亚语</option><option value="lo">老挝语</option><option value="lt">立陶宛语</option><option value="ro">罗马尼亚语</option><option value="mg">马尔加什语</option><option value="mt">马耳他语</option><option value="mr">马拉地语</option><option value="ml">马拉雅拉姆语</option><option value="ms">马来语</option><option value="mk">马其顿语</option><option value="mi">毛利语</option><option value="mn">蒙古语</option><option value="bn">孟加拉语</option><option value="my">缅甸语</option><option value="hmn">苗语</option><option value="zu">南非祖鲁语</option><option value="ne">尼泊尔语</option><option value="no">挪威语</option><option value="pa">旁遮普语</option><option value="pt">葡萄牙语</option><option value="ny">齐切瓦语</option><option value="ja">日语</option><option value="sv">瑞典语</option><option value="sr">塞尔维亚语</option><option value="st">塞索托语</option><option value="si">僧伽罗语</option><option value="eo">世界语</option><option value="sk">斯洛伐克语</option><option value="sl">斯洛文尼亚语</option><option value="sw">斯瓦希里语</option><option value="ceb">宿务语</option><option value="so">索马里语</option><option value="tg">塔吉克语</option><option value="te">泰卢固语</option><option value="ta">泰米尔语</option><option value="th">泰语</option><option value="tr">土耳其语</option><option value="cy">威尔士语</option><option value="ur">乌尔都语</option><option value="uk">乌克兰语</option><option value="uz">乌兹别克语</option><option value="iw">希伯来语</option><option value="el">希腊语</option><option value="es">西班牙语</option><option value="hu">匈牙利语</option><option value="hy">亚美尼亚语</option><option value="ig">伊博语</option><option value="it">意大利语</option><option value="yi">意第绪语</option><option value="hi">印地语</option><option value="su">印尼巽他语</option><option value="id">印尼语</option><option value="jw">印尼爪哇语</option><option value="en">英语</option><option value="yo">约鲁巴语</option><option value="vi">越南语</option><option value="zh-CN">中文简体</option><option value="zh-TW">中文繁体</option></select></td><td width="5%" align="center"> </td><td width="6%" align="center"><div id="SL_TTS_voice" title="聆聽" style="background: rgba(0, 0, 0, 0) url('undefined') repeat scroll 0% 0%;"></div></td><td width="6%" align="center"><div id="SL_copy" title="複製譯文" style="background: rgba(0, 0, 0, 0) url('undefined') repeat scroll 0% 0%;"></div></td><td width="6%" align="center"><div id="SL_bbl_font_patch" title="此功能在字典中禁用"></div><div id="SL_bbl_font" title="字體大小" style="background: rgba(0, 0, 0, 0) url('undefined') repeat scroll 0% 0%;"></div></td><td width="6%" align="center"><div id="SL_TH" title="翻譯歷史" style="background: rgba(0, 0, 0, 0) url('undefined') repeat scroll 0% 0%;"></div></td><td width="10%"></td><td width="6%" align="right"><div id="SL_pin" title="固定彈出窗口" style="background: rgba(0, 0, 0, 0) url('undefined') repeat scroll 0% 0%; display: block; width: 16px; height: 16px; cursor: pointer;"></div></td></tr></table></div><div id="SL_alert_bbl"><div id="SLHKclose"></div><div id="SL_alert_cont"></div></div></div><div id="SL_shadow_translation_result" style="background: rgb(255, 255, 255) url('undefined') repeat scroll 0% 0%;"></div><div id="SL_loading" style="background: rgba(0, 0, 0, 0) url('undefined') repeat scroll 0% 0%; display: block; position: absolute; width: 35px; margin-left: 180px; margin-top: -40px; height: 35px;"></div><div id="SL_player2"></div><div id="SL_alert100">語言功能限200個字符</div><div id="SL_Balloon_options" style="background: rgb(255, 255, 255) none repeat scroll 0% 0%;"><div id="SL_arrow_down"></div><table width="100%"><tr><td width="18%" height="16" align="left"><div id="SL_bbl_donate" title="進行一點捐款" style="background: rgba(0, 0, 0, 0) url('undefined') repeat scroll 0% 0%;"></div></td><td width="68%" align="center"><a href="#" id="OPlnk" title="顯示選項">選項</a> : <a href="#" id="HISTlnk" title="翻譯歷史">歷史</a> : <a href="http://about.imtranslator.net/tutorials/presentations/imtranslator-translator-for-firefox/popup-bubble-application/" target="_top" id="HELPlnk" title="幫助">幫助</a> : <a href="#" id="FBlnk" title="反饋">反饋</a></td><td width="15%" align="right"><a id="SL_Balloon_Close" href="#" title="關閉">關閉</a></td></tr></table></div></div></div></body>
</html>
